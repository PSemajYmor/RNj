<!DOCTYPE html>
<html>
<head>
    <title>JSON File Updater</title>
</head>
<body>
    <h1>JSON File Updater</h1>
    
    <button id="onButton">On2</button>
    <button id="offButton">Off</button>

    <script>
        const onButton = document.getElementById('onButton');
        const offButton = document.getElementById('offButton');

        onButton.addEventListener('click', () => {
            updateJSONFile(1);
        });

        offButton.addEventListener('click', () => {
            updateJSONFile(0);
        });

        function updateJSONFile(newValue) {
            const fileUrl = 'https://raw.githubusercontent.com/PSemajYmor/RNj/main/buttondata.json';
            
            // Fetch the current content of the JSON file
            fetch(fileUrl)
                .then(response => response.text())
                .then(jsonString => {
                    // Parse the existing JSON content
                    const jsonData = JSON.parse(jsonString);
                    
                    // Update the value in the JSON data
                    jsonData.value = newValue;
                    
                    // Convert the JSON data back to a string
                    const updatedJsonString = JSON.stringify(jsonData, null, 2);
                    
                    // Send a PUT request to update the file with the new content
                    fetch(fileUrl, {
                        method: 'PUT',
                        body: updatedJsonString,
                        headers: {
                            'Content-Type': 'application/json',
                        },
                    })
                    .then(() => {
                        console.log('JSON file updated successfully.');
                    })
                    .catch(error => {
                        console.error('Error updating JSON file:', error);
                    });
                })
                .catch(error => {
                    console.error('Error fetching JSON file:', error);
                });
        }
    </script>
</body>
</html>
